{% macro result_name(result) %}
    {% if result.type == "source" %}
        {{ result.display_name_s }}
    {% elif result.type in ("person", "organization", "archive") %}
        {{ result.name_s }}
    {% elif result.type == "composition" %}
        {{ result.title_s }}
    {% elif result.type == "set" %}
        {{ result.cluster_shelfmark_s }}
    {% endif %}
{% endmacro %}

{% macro result_body(result) %}
    {% if result.type == "composition" %}
        {% include "website/search/results/composition.jinja2" %}
    {% elif result.type == "organization" %}
        {% include "website/search/results/organization.jinja2" %}
    {% elif result.type == "source" %}
        {% include "website/search/results/source.jinja2" %}
    {% elif result.type == "archive" %}
        {% include "website/search/results/archive.jinja2" %}
    {% elif result.type == "person" %}
        {% include "website/search/results/person.jinja2" %}
    {% elif result.type == "set" %}
        {% include "website/search/results/set.jinja2" %}
    {% endif %}
{% endmacro %}

<div class="search-result">
    <h4>
        <a href="{{ result.url }}">{{ result_name(result) }}</a> <span class="result-type">{{ result.type | title }}</span>
    </h4>
    {{ result_body(result) }}
</div>
