self.addEventListener("fetch",e=>{if("image"!==e.request.destination)return;console.log("location",location),console.log("destination",e.request.destination);let t=new URL(location).searchParams,o=t.get("key");console.log("key",o,"secret",t.get("secret"),"domain",t.get("domain"));let s=new Headers(e.request.headers);s.set("API-Key","000000000000000000001");let n=new Request(e.request,{headers:s,mode:"cors"});console.log(n),e.respondWith((async()=>fetch(n))())});